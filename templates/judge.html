<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>{{ incident | safe }}</title>

        <!-- WebSocket / jQuery -->
        <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.min.js"></script>

        <style>
            .header {
                height: 50px;
                display: flex;
                justify-content: flex-start;   /* 左寄せ */
                align-items: center;
                border-bottom: 1px solid #ddd;
            }
            .logo {
                font-weight: 700;
                margin-left: 12px;
                font-size: 18px;
            }
            .hamburger-menu {
                width: 50px;
                height: 50px;
                position: relative;
                border: none;
                background: transparent;
                appearance: none;
                padding: 0;
                cursor: pointer;
                margin-left: 4px;
            }
            .hamburger-menu__bar {
                display: inline-block;
                width: 44%;
                height: 2px;
                background: #242424;
                position: absolute;
                left: 50%;
                transform: translateX(-50%);
                transition: .5s;
            }
            .hamburger-menu__bar:first-child {
                top: 16px;
            }
            .hamburger-menu__bar:nth-child(2) {
                top: 24px;
            }
            .hamburger-menu__bar:last-child {
                top: 32px;
            }
            .hamburger-menu--open .hamburger-menu__bar {
                top: 50%;
            }
            .hamburger-menu--open .hamburger-menu__bar:first-child {
                transform: translateX(-50%) translateY(-50%) rotate(45deg);
            }
            .hamburger-menu--open .hamburger-menu__bar:last-child {
                transform: translateX(-50%) translateY(-50%) rotate(-45deg);
            }
            .hamburger-menu--open .hamburger-menu__bar:nth-child(2) {
                display: none;
            }

            /* メニュー本体 */
            .navigation {
                display: none;
                background: #242424;
                width: 100%;
            }
            .navigation__inner {
                padding: 16px;
                color: #fff;
            }
            .navigation__inner table td {
                padding: 4px 8px;
            }
            .navigation__inner input[type="text"],
            .navigation__inner input[type="number"] {
                width: 140px;
            }

            /* チャット領域 */
            #chat-area {
                margin-top: 16px;
            }
            #log {
                margin-top: 8px;
                border: 1px solid #ccc;
                height: 300px;
                overflow-y: auto;
                padding: 4px;
                background: #fafafa;
            }
        </style>

        <script>
            /* ハンバーガーメニュー操作 */
            $(function () {
                $('#js-hamburger-menu').on('click', function () {
                    $('.navigation').slideToggle(500);
                    $('.hamburger-menu').toggleClass('hamburger-menu--open');
                });
            });

            /* 入力後ジャンプ */
            function jump(){
                const role2 = document.getElementById("role2").value;
                const num   = document.getElementById("num").value;
                if (role2 && num){
                    location.href = "/discussion/" + num + "/" + role2;
                }
            }
        </script>
    </head>
    <body>

        <!-- ヘッダー -->
        <header class="header">
            <button class="hamburger-menu" id="js-hamburger-menu">
                <span class="hamburger-menu__bar"></span>
                <span class="hamburger-menu__bar"></span>
                <span class="hamburger-menu__bar"></span>
            </button>
            <div class="logo">他の演習メニュー</div>
        </header>

        <!-- ハンバーガーメニュー中身 -->
        <nav class="navigation">
            <div class="navigation__inner">
                <table>
                    <tr>
                        <td>役割</td>
                        <td><input type="text" name="role2" id="role2"></td>
                    </tr>
                    <tr>
                        <td>インシデント番号</td>
                        <td><input type="number" name="num" id="num"></td>
                    </tr>
                    <tr>
                        <td colspan="2" style="text-align:right;">
                            <input type="button" onclick="jump()" value="演習">
                        </td>
                    </tr>
                </table>
            </div>
        </nav>
        <a href="../../../logout">ホームへ戻る</a>
        <h1>{{ incident | safe }}</h1>
        <p>{{ des | safe }}</p>
        <h2>記録内容</h2>
        <pre>
            {{ res | safe }}
        </pre>
    </body>
</html>